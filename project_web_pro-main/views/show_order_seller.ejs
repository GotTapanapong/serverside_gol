<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>รายละเอียดคำสั่งซื้อ #<%= order.order_id %></title>
    <link rel="stylesheet" href="/css/show_order_seller.css"> <style>
        body { font-family: 'Kanit', sans-serif; background-color: #f4f4f4; }
        .container { max-width: 800px; margin: 2em auto; padding: 2em; background: white; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .detail-section { margin-bottom: 2em; padding: 1.5em; border: 1px solid #e0e0e0; border-radius: 8px; }
        .detail-section h2 { border-bottom: 2px solid #f0f0f0; padding-bottom: 0.5em; margin-top: 0; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 0.8em; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #f9f9f9; }
    </style>
</head>
<body>
    <nav id="navbar">
        <div class="navbar-header">
            <img src="/images/logo.png" alt="MONGCHA Logo" class="navbar-brand">
            <button id="menu-toggle" class="menu-toggle">☰</button>
        </div>
        <ul class="navbar-menu">
            <li><a href="/order_seller">จัดการคำสั่งซื้อ</a></li>
            <li><a href="/addmenu">จัดการเมนู</a></li>
            <li><a href="/logout">ลงชื่อออก</a></li>
        </ul>
    </nav>
    
    <div class="container">
        <h1>รายละเอียดคำสั่งซื้อ #<%= order.order_id %></h1>
        <p><strong>สถานะ:</strong> <span style="font-weight: bold; color: blue;"><%= order.status %></span></p>
        <p><strong>ยอดรวม:</strong> <%= order.total_price.toFixed(2) %> บาท</p>
        <p><strong>วันที่สั่งซื้อ:</strong> <%= new Date(order.datetime).toLocaleString('th-TH') %></p>

        <div class="detail-section">
            <h2>ที่อยู่สำหรับจัดส่ง</h2>
            <p><strong>ชื่อผู้รับ:</strong> <%= order.recipient_name %></p>
            <p><strong>เบอร์โทรศัพท์:</strong> <%= order.recipient_phone %></p>
            <p><strong>ที่อยู่:</strong> <%= order.subdistrict %>, <%= order.district %>, <%= order.province %> <%= order.postal_code %></p>
        </div>

        <div class="detail-section">
            <h2>ข้อมูลผู้สั่งซื้อ</h2>
            <p><strong>ชื่อ:</strong> <%= order.customer_name %></p>
            <p><strong>เบอร์โทรศัพท์:</strong> <%= order.customer_phone %></p>
        </div>

        <div class="detail-section">
            <h2>รายการสินค้า</h2>
            <table>
                <thead>
                    <tr>
                        <th>สินค้า</th>
                        <th>จำนวน</th>
                        <th>ระดับความหวาน</th>
                        <th>ราคา</th>
                    </tr>
                </thead>
                <tbody>
                    <% items.forEach(item => { %>
                        <tr>
                            <td><%= item.product_name %></td>
                            <td><%= item.quantity %></td>
                            <td><%= item.sweetness_level %></td>
                            <td><%= item.price.toFixed(2) %></td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        </div>
        <a href="/order_seller" style="display: inline-block; margin-top: 1em;">&laquo; กลับไปหน้ารายการ</a>
    </div>

    <script>
        document.getElementById('menu-toggle').addEventListener('click', function() {
            document.querySelector('.navbar-menu').classList.toggle('active');
        });
    </script>
</body>
</html>